<?xml version="1.0" encoding="utf-8"?>
<HTML>
  <HEAD>
    <TITLE>Simple REST SOE With capabilities sample</TITLE>
    <LINK REL="stylesheet" TYPE="text/css" HREF="http://help.arcgis.com/en/sdk/10.0/common/style/esri_sdk_web.css" />
  </HEAD>
  <BODY topmargin="0" id="bodyID" class="dtBODY">
    <div class="sdk_topic">
      <div id="nsbanner" esri_sdk_guid="959c3c8f-41b9-416b-aafa-605af8328914">
        <div id="TitleRow" class="bannertitle">
          <table class="titleWithBackground">
            <td>
              <H1>Simple REST SOE With capabilities sample<a name="ICallout" /></H1>
            </td>
          </table>
        </div>
      </div>
      <br />
      <div class="main">
        <fieldset class="Property" style="width: auto">
          <legend class="PropertyName">Purpose</legend>
          <span class="PropertyValue">
            <purpose>
    <div xmlns="http://www.w3.org/1999/xhtml">The purpose of this sample is to show use of capabilities in a Server Object Extension. </div>
    <div xmlns="http://www.w3.org/1999/xhtml">This sample SOE has 2 sub-resources, busstations and trainstations, and 2 operations, findBusStationId and findTrainStationId. It also has 2 capabilities: "Bus Services" and "Train Services". The "Bus Services" capability controls access to the busstations subresource and the </div>
    <div xmlns="http://www.w3.org/1999/xhtml">findBusStationById operation, while the "TrainServices" capability controls access to the trainstations subresource and findTrainStationById operation.</div>
  </purpose>
          </span>
        </fieldset>
        <br />
        <h4>How to use</h4>
        <p>See 
        <a href="http://help.arcgis.com/en/sdk/10.6/java_ao_adf/conceptualhelp/engine/index.html#/samples/00010000042n000000/">How to use ArcGIS samples</a>
        for help running the sample.</p>
        <div class="howToUseTitle">How to use this sample?</div>
        <ol>
          <li>Deploy the lib/JavaSimpleRESTSOEWithCapabilities.soe file to Server. For instructions on how to deploy an SOE to ArcGIS 10.1 Server, please see the "Developing Extensions" -&gt; "Server Object Extensions" -&gt; "Deploying and Un-deploying SOEs" topic in the ArcGIS Java Developer Help.</li>
          <li>Enable the SOE on map service of your choice. For instructions on how to enable SOE on a map service, please see the "Developing Extensions" -&gt; "Server Object Extensions" -&gt; "Enabling and Disabling SOEs" topic in the ArcGIS Java Developer Help. Please ensure that the map service has at least 1 feature layer and 1 raster layer.</li>
          <li>After the map service has started with SOE enabled on it, open up Services Directory and access the http://&lt;server name&gt;:6080/arcgis/rest/services page</li>
          <li>Click the map service you enabled your SOE on.</li>
          <li>Scroll down and click the JavaSimpleRESTSOEWithCapabilities listed in "Supported Extensions" section. If you don't find your REST SOE listed here, please log in as admin into Services Directory and clear the cache. Repeat steps 3,4, and 5.</li>
          <li>The JavaSimpleRESTSOEWithCapabilities web page displays the root resource details such as name and description, along with the "Child Resources" and "Supported Operations" sections.</li>
          <li>Click “layers” subresource. It displays information about all features layers in JSON format. </li>
          <li>Log in to ArcGIS Manager and edit the map service you enabled the SOE on. On the map service's editing page, click Capabilities and then click "Java Simple REST SOE With Capabilities". A section called "Operations Allowed" will appear below the SOE. Check the BusServices check box. Click "Save and Restart" button.</li>
          <li>Open the SOE page in Services Directory again and click on "NumberOfBusStations" subresource. This subresource will display some number of bus stations, thereby proving that this subresource is accessible.</li>
          <li>Navigate back to the SOE page and click "findBusStationById". Provide text input to the "busStationId" text box and click the "findBusStationById" button. The text you entered in the text box will be displayed, thereby proving that this operation is accessible.</li>
          <li>Access the "NumberOfTrainStations" subresource and "findTrainStationById" operation. In each case, the SOE will return an error message indicating that these are inaccessible. This is because the "TrainServices" capability is not enabled on this SOE.</li>
          <li>Log into to ArcGIS Manager, edit the map service, select the JavaSimpleRESTSOEWithCapabilities capability and enable its "TrainServices" capability. Test access to the "NumberOfTrainStations" subresource and "findTrainStationById" operation. You'll find that these are now accessible. </li>
          <br />
        </ol>
        <br />
        <br />
        <hr tabIndex="-1" />
        <br />
        <table class="dtTable" cellspacing="0">
          <tr>
            <th>Development licensing</th>
            <th>Deployment licensing</th>
          </tr>
          <tr style="empty-cells:show">
            <td>Server</td>
            <td>Server</td>
          </tr>
        </table>
        <br />
        <br />
        <br />
      </div>
    </div>
  </BODY>
</HTML>